# Ядро агента: Цикл ReAct и Рефлексия

Каждый агент-исполнитель в системе **PyAgentX** работает на основе мощного и гибкого внутреннего цикла, который делает его действия прозрачными, логичными и устойчивыми к ошибкам.

### 1. ReAct (Reason + Act)

Мы используем подход **ReAct**, который заставляет агента действовать не импульсивно, а обдуманно. Вместо простого выполнения команды, агент следует циклу **"Мысль → Действие → Наблюдение"**:

1.  **Мысль (Reasoning)**: Получив задачу, агент сначала генерирует рассуждение. Он анализирует цель, определяет, какой инструмент из своего арсенала лучше всего подходит для текущего шага, и в каком формате нужно подготовить для него входные данные. Эта мысль выводится в лог, что делает процесс принятия решений полностью прозрачным.

2.  **Действие (Action)**: Агент выполняет вызов выбранного инструмента с подготовленными параметрами. Это может быть чтение файла, поиск в интернете или сохранение информации в память.

3.  **Наблюдение (Observation)**: Агент получает результат выполнения инструмента. Это может быть как успешный результат (содержимое файла, поисковая выдача), так и сообщение об ошибке.

Этот цикл повторяется до тех пор, пока агент не выполнит поставленную перед ним подзадачу.

### 2. Самокоррекция (Self-Correction / Reflection)

Одной из самых сильных сторон наших агентов является их способность к **самокоррекции**. Если на шаге "Наблюдение" инструмент возвращает ошибку, агент не прекращает работу, а входит в специальный цикл **рефлексии**:

1.  **Анализ ошибки**: Агент получает полный текст ошибки.
2.  **Рефлексия**: Он "задумывается" над причиной неудачи. ("Я пытался прочитать файл, которого не существует. Возможно, я ошибся в названии или пути. Мне следует сначала проверить список файлов в директории.")
3.  **Коррекция плана**: На основе этого анализа агент корректирует свой следующий шаг. Вместо того чтобы снова пытаться выполнить провальное действие, он генерирует новую "Мысль", нацеленную на решение проблемы (например, вызвать инструмент для листинга файлов).

Этот механизм делает систему значительно более надежной и автономной, позволяя ей справляться с непредвиденными ситуациями без вмешательства человека.

[Вернуться к README](../README.md) 