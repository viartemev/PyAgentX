# Архитектура многоагентной системы (Multi-Agent Architecture)

В основе **PyAgentX** лежит отказ от идеи единого "агента-швейцарского ножа" в пользу **команды узкоспециализированных экспертов**. Такой подход повышает надежность, общую производительность системы и значительно упрощает её дальнейшее расширение и поддержку.

Центральным элементом этой архитектуры является **Оркестратор**, который управляет всей командой.

### Компоненты архитектуры

1.  **Оркестратор (`Orchestrator`)**: "Мозг" и project manager всей команды. Он не выполняет задачи сам, а получает цель от пользователя и управляет процессом ее достижения. Его ключевая функция — реализация продвинутого цикла планирования, вдохновленного подходом **"Дерево мыслей" (Tree-of-Thoughts, ToT)**.

2.  **Планировщик (`PlannerAgent`)**: "Стратег" команды. Получив высокоуровневую цель от Оркестратора, его задача — декомпозировать её на **несколько различных, многошаговых планов**. Это позволяет системе исследовать несколько потенциальных путей решения, а не придерживаться первого же сгенерированного варианта.

3.  **Оценщик (`EvaluatorAgent`)**: "Критик" и Quality Assurance в команде. Он получает несколько планов от Планировщика и анализирует их по заданным критериям (например, эффективность, надежность, простота, соответствие задаче). Его задача — выбрать **самый оптимальный план** и вернуть его Оркестратору. Этот шаг гарантирует, что к выполнению будет принята наилучшая из доступных стратегий.

4.  **Агенты-специалисты (`Specialized Agents`)**: "Исполнители" с узкой зоной ответственности. Каждый такой агент обладает ограниченным, но мощным набором инструментов для своей роли. Примеры:
    *   `FileSystemExpert`: отвечает за чтение, запись и анализ файлов в проекте.
    *   `WebSearchExpert`: отвечает за поиск актуальной информации в интернете.
    Такая специализация делает их действия предсказуемыми, качественными и легко тестируемыми.

### Жизненный цикл запроса

1.  **Пользователь** ставит высокоуровневую задачу.
2.  **Оркестратор** принимает задачу и передает её **Планировщику**.
3.  **Планировщик** генерирует 3-5 различных планов решения и отдает их **Оценщику**.
4.  **Оценщик** выбирает лучший план и возвращает его **Оркестратору**.
5.  **Оркестратор** последовательно выполняет шаги из выбранного плана, на каждом шаге делегируя задачу наиболее подходящему **Агенту-специалисту**.
6.  **Агент-специалист** выполняет свою часть работы и возвращает результат Оркестратору.
7.  Процесс повторяется, пока все шаги плана не будут выполнены.

[Вернуться к README](../README.md) 